<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/page/13/index.html">
<meta property="og:site_name" content="Hexo">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-致我最喜欢的人，因为我不知道这是不是爱" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/01/30/致我最喜欢的人，因为我不知道这是不是爱/" class="article-date">
  <time datetime="2015-01-30T11:06:38.000Z" itemprop="datePublished">2015-01-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/01/30/致我最喜欢的人，因为我不知道这是不是爱/">致我最喜欢的人，因为我不知道这是不是爱</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>大约是2009年下半年的一天，你第一次走进了我的生活。第一天，你让我帮你修电脑，而我只懒洋洋的帮你清理了一下电脑的垃圾文件。第一次的接触，平平淡淡。</p>
<pre><code>你让我评论你的照片，我唯一的感受是成熟，也有点点的不喜欢&lt;span style=&quot;line-height: 20.7999992370605px;&quot;&gt;，那是我真实&lt;/span&gt;&lt;span style=&quot;line-height: 20.7999992370605px;&quot;&gt;的感受&lt;/span&gt;。但之后的日子里，却再不再有那种感觉，感受到的只有青春、活力和乐观。

你邀请我进入你新建的群，并给了我管理员的权限，university world，现在成了美好的回忆。

2010年的下半年，也许是我大学时光最美好的一段时间之一。在那几个月的校园时光里，几乎每天我们都会聊个个把小时，我会小心翼翼的把聊天记录保存起来。在那段时间里，也许是我和你关系最好的时间。我们会把每天发生的事告知对方，会嚷嚷着以后见面要怎么样怎么样，会打赌谁不会打错字。也是在那段时间里，你&amp;ldquo;欠&amp;rdquo;了我一首歌，而我要求你唱&amp;ldquo;星月神话&amp;rdquo;。在考研失败后，我一直想找回这种感觉，与你或者其他人，但始终没有找回。

进入2011年，在前半年里，我们依然亲亲密密。你让我帮你解析两首歌，其中的一首是&amp;ldquo;心中的花园&amp;rdquo;。你让我帮你收集你弟的消息，可惜的是，我始终没有去见你弟一面。该准备考研的时候，你说过你要考不上，你能陪我到成都，而我愿随你去上海。我第一次意识到自己的心理问题，也发邮件给学校里的心理咨询老师，你却一直鼓励我。

2011年下半年，你我都忙于考研前的准备。我全身心的投入到考研的准备工作，那段时间也许是我一生中最认真做某件事的一段时间，而我们间的联系越来越少，你我似乎越来越生疏。也是在这段时间，我第一次拨通了你的电话，对你也许不算什么，对我意味许多。

2012年发生了很多事。考研的失利，我选择了工作。你顺利的考上了理想的院校。在得到考研结果到我在北京工作这段时间里，也许是我们自09年底认识最生疏的一段时间。我经常连着几个星期联系不到你，本身感觉自己配不上你，加上你的无意的疏远，数次我想放弃你，想忘掉你的一切联系方式。最后一次，大概过了一个月的时间，你却联系上了我，我得知你的病情，焦急而又无奈。你手术过后，似乎一切回到了正常的轨道。只是我当时的工作非常的繁忙，但我感觉我们之间似乎来了第二个春天。你去阜阳五院复查身体（却告诉我你奶奶生病了），之后又不能接触手机等辐射物，我又经常一连数天联系不到你。

在此期间，我也一直努力解决自己的心理问题。第一次去北大六院特需门诊，结果是焦虑状态加强迫症，医生建议我同时实行心理咨询和药物治疗，我最开始几个月的工资大多用于此了。

2013年的元旦，发生了断绝我与你联系的那件事。你在微信上给我发新年祝福，而我却为你不回复我的信息而耿耿于怀，继而在微信上说了最不该说的话...

我当时是个有很大心理缺陷的人，自卑而又好强、虚荣，努力去追求自己的完美而不敢于接受失败。当时的我，按照自己一贯的做法，选择彻底与你断绝联系，从微信，QQ上把你删除，而甚至把手机上的那些软件卸掉。我喜欢你，没有努力去追求你，却要求你做许多事情。我害怕失去自己的虚荣，害怕失败，而选择了逃避...

对不起，我错了。

2013至今。对你，大概只能想到，在读研究生。对于我，

我完成了25次的个人心理咨询，以及60或70次的心理小组活动。从老师那里，从小组同学那里，从同事那里，我学到了很多东西。

大概半年前，我换了一份轻松的工作。

&lt;span style=&quot;line-height: 20.7999992370605px;&quot;&gt;关于你，我从一开始数月的痛苦，到平淡，再到如今的思过...&lt;/span&gt;

未来。如果你仍然不回复我，我大约会在春节去找你，虽然不知道你在谭棚的具体位置，虽然也许会被你弟轰出家门。

我仍然不知道爱是什么，致一个虽然从未谋面，但相互真诚，共同有过快乐，也有过痛苦的人。
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/01/30/致我最喜欢的人，因为我不知道这是不是爱/" data-id="cj80hjlm40063f263c96uv1e2" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/生活杂想/">生活杂想</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2015-01-04记" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/01/04/2015-01-04记/" class="article-date">
  <time datetime="2015-01-04T10:54:24.000Z" itemprop="datePublished">2015-01-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/01/04/2015-01-04记/">2015.01.04记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>有一段时间没来了</p>
<pre><code>最近也发生了很多事的，生活上，技术上

与我最喜欢的女孩的最后一次联系已经是两年前了

始终不满意自己的工作现状，每当听到别人比自己工作的好时，心里总有一点骚动...距离15年新年还有不到两个月的样子，过了年自己将要何去何从

与老家小时候的玩伴聚了一次，大家上一次在一起，也许在10年以前吧
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/01/04/2015-01-04记/" data-id="cj80hjlen0006f2638koqbg9u" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/生活杂想/">生活杂想</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-焦虑-强迫" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/12/23/焦虑-强迫/" class="article-date">
  <time datetime="2014-12-23T08:46:36.000Z" itemprop="datePublished">2014-12-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/12/23/焦虑-强迫/">焦虑&amp;强迫</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>2012年考研失败后，第一次认真对待自己这方面的问题…</p>
<p>第一次去的医院是宁夏医学院附属医院，花了自己积蓄的几百大洋买了几盒药..</p>
<p>到北京并工作后，去了北京大学第六医院，并幸运的看了丛中医生的特需门诊，诊断为焦虑状态&amp;强迫症..</p>
<p>在医生的建议下，开始在渔歌轻飏工作室周湘老师的25次个人心理咨询，并开始了每天一片舍曲林的生活..</p>
<p>在25次个人心理咨询结束后，应周老师邀请，参与了3轮或4轮（64次或76次）的团体心理小组…</p>
<p>2014年感恩节，最后一次小组活动结束..</p>
<p>我对心理发展的感悟：接受..交流..平衡…</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2014/12/23/焦虑-强迫/" data-id="cj80hjllw005rf2632sc3pg57" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/生活杂想/">生活杂想</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Fortran-netCDF-library安装记" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/12/10/Fortran-netCDF-library安装记/" class="article-date">
  <time datetime="2014-12-10T10:32:00.000Z" itemprop="datePublished">2014-12-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/12/10/Fortran-netCDF-library安装记/">Fortran netCDF library安装记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>帮一个朋友安装国内某名校某人写的一个fortran程序</p>
<p>此程序主要用到了netcdf库.</p>
<p>最开始运行make，报undefined reference to `netcdf_mp_nf90_get_att_one<em>fourbytereal</em>‘之类的错，经网上一顿搜索，问题定位在fortran编译器没有链接到netCDF Fortran库..</p>
<p>查看Makefile，加上-lnetcdff，报没有libnetcdff.so..</p>
<p>开始艰难的编译Fortran netCDF library..</p>
<p>IBM CRL的网络一如既往的不给力..幸好的是..其中的yellowzone区域的网络还是很给力的的..</p>
<p>安装Fortran netCDF library需要C netCDF library，安装C netCDF library的过程中又缺少了hdf5库..</p>
<p>下载hdf5源码包..安装..</p>
<p>之前有安装过C netCDF library，除了make check了一晚上还没结束..一切还是比较顺利的..</p>
<p>安装Fortran netCDF library是比较痛苦的，中间几乎有想放弃的时候.</p>
<p>1.系统自带的fortran编译器gfortran版本过低，configure的时候就一直出问题,换成了gfortran44..</p>
<p>2.用gfortran44配置时，同时需要设置环境变量CC，指向之前编译C库的C编译器，如/usr/bin/gcc..</p>
<p>3.configure通过，但make时一直报莫名奇妙的错误,DHAVE_CONFIG_H: Command not found或者g: Command not found..经过一阵煎熬..折腾..把gfortran44 mv到gfortran(之前用gfrtran44编译是设置的环境变量FC)，勉强make成功..</p>
<p>4.这下有了libnetcdff.so，但仍然报undefined reference to `netcdf_mp_nf90_get_att_one<em>fourbytereal</em>‘，用nm命令查看libnetcdff.so，只发现了netcdf_MOD_nf90_get_att_one_fourbytereal..改变Makefile脚本，设置FC为gfortran(之前是mpif90 -f90=ifort)，但出现了其他的错..考虑用ifort编译Fortran netCDF..编译成功..并把FC设置为ifort..make成功…</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2014/12/10/Fortran-netCDF-library安装记/" data-id="cj80hjlft000yf2634tvbx9ft" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/技术探索/">技术探索</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-在Stack-Exchange的第一个问题" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/12/05/在Stack-Exchange的第一个问题/" class="article-date">
  <time datetime="2014-12-05T03:53:19.000Z" itemprop="datePublished">2014-12-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/12/05/在Stack-Exchange的第一个问题/">在Stack Exchange的第一个问题</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>以前总是远观，近距离接触一下…</p>
<p>附问题：<a href="http://unix.stackexchange.com/questions/171588/confusing-db2outout" target="_blank" rel="external">http://unix.stackexchange.com/questions/171588/confusing-db2outout</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2014/12/05/在Stack-Exchange的第一个问题/" data-id="cj80hjllj0059f2632zw85xhi" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/技术探索/">技术探索</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-db2学习之2014-12-03" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/12/03/db2学习之2014-12-03/" class="article-date">
  <time datetime="2014-12-03T10:48:07.000Z" itemprop="datePublished">2014-12-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/12/03/db2学习之2014-12-03/">db2学习之2014.12.03</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>2014.12.02，db2 crash..</p>
<p>我并不是专门负责db2管理的，出于兴趣，还是去探索了下…</p>
<p>网上一通搜索，定位了问题应该是下面中的一个：</p>
<p>1. linux服务器某些限制，如限制进程创建的线程数，使用到的最大虚拟内存</p>
<p>2. db2配置的问题，过多的客户端程序连接db2 server，导致超过了db2本身的最大agents(连接)数.</p>
<p>又一桶搜索，加上稍稍的分析，慢慢的特别聚焦到第二个原因上的..</p>
<p>通过命令db2 get snapshot for database manager，发现db2的连接数在170左右，而查看db2配置(db2 get dbm cfg)，发现输出中有下面两句：</p>
<p>Max number of coordinating agents     (MAX_COORDAGENTS) = AUTOMATIC(200)</p>
<p>Max number of client connections      (MAX_CONNECTIONS) = AUTOMATIC(MAX_COORDAGENTS)</p>
<p>看见了200这个数，比较170，感觉的确相差不多…</p>
<p>唯一说不通的是，在其他linux服务器上的db2(同样的数据库，同样的应用)为什么从没出现过类似情况？</p>
<p>用命令db2 list applications show detail查看详细数据库的连接情况，发现crash的db2的本地连接远多于其他的服务器…</p>
<p>进一步分析输出，发现db2对于每个database都有差不多30个的本地连接，而未crash的db2只有大约10个…</p>
<p>我们的db2上创建了3个database，算起来就多了差不多3*20个的连接，似乎可以解释了</p>
<p>实际上，是因为crash的db2的linux服务器实在太好了…24核的…而其他的linux服务器是4核的…</p>
<p>db2会根据linux服务器的虚拟cpu数来创建db2fw线程..导致对于每个database多创建了20个db2fw，也多了20个agents(连接)..</p>
<p>经过进一步的探查..</p>
<p>最大agents的数目其实并不是200，前面有个AUTOMATIC，db2会根据数据库的负载，适当增加这个数目..</p>
<p>而一个client connection也并不一定对应一个coordinating agent…</p>
<p>昨天写过一个shell脚本来定时监测agents数目，发现在23:18左右，agents数据实际是超过了200的…而db2并未崩溃…</p>
<p>昨天crash的原因也许并不在此…</p>
<p>说些“题外话”把..我其实并不想花费太多时间在这个上边..db2在国内，除了IBM自己..有多少IT企业在用呢？</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2014/12/03/db2学习之2014-12-03/" data-id="cj80hjlib0030f26364jn7e7g" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/技术探索/">技术探索</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-淡淡的忧伤" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/11/28/淡淡的忧伤/" class="article-date">
  <time datetime="2014-11-28T02:42:03.000Z" itemprop="datePublished">2014-11-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/11/28/淡淡的忧伤/">淡淡的忧伤</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>生离死别..</p>
<p>亲情 友情 爱情 感情..</p>
<p>职业 事业 人生 成长..</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2014/11/28/淡淡的忧伤/" data-id="cj80hjllv005pf263h05p7zvv" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/生活杂想/">生活杂想</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-shell学习之2014-11-25" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/11/25/shell学习之2014-11-25/" class="article-date">
  <time datetime="2014-11-25T10:53:44.000Z" itemprop="datePublished">2014-11-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/11/25/shell学习之2014-11-25/">shell学习之2014.11.25</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>$符号的特殊用法..</p>
<p>截断：</p>
<p>input: var=”abcde”;echo ${var%d*}</p>
<p>output: abc</p>
<p>替换</p>
<p>input:</p>
<p>STRING=”This is a string”;echo ${STRING// /<em>};echo ${STRING/ /</em>}</p>
<p>output:</p>
<p>This_is_a_string<br>This_is a string</p>
<p>默认：</p>
<p>input: default=”hello”; unset var; echo ${var:-$default}</p>
<p>output: hello</p>
<p>完全的见<a href="http://tiswww.case.edu/php/chet/bash/bashref.html#SEC32" target="_blank" rel="external">http://tiswww.case.edu/php/chet/bash/bashref.html#SEC32</a></p>
<p>&nbsp;</p>
<p>在bash中的一些快捷键：</p>
<p>ctrl+w:  删除一个单词</p>
<p>ctrl+u: 从光标所在位置删除到行的开始</p>
<p>ctrl+a: 移动光标到行首</p>
<p>ctrl+e: 移动光标到行末</p>
<p>推荐<a href="http://samrowe.com/wordpress/advancing-in-the-bash-shell/" target="_blank" rel="external">http://samrowe.com/wordpress/advancing-in-the-bash-shell/</a></p>
<p>&nbsp;</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2014/11/25/shell学习之2014-11-25/" data-id="cj80hjljj003zf263modddd13" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/技术探索/">技术探索</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-hadoop学习之2014-11-25" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/11/25/hadoop学习之2014-11-25/" class="article-date">
  <time datetime="2014-11-25T10:32:36.000Z" itemprop="datePublished">2014-11-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/11/25/hadoop学习之2014-11-25/">hadoop学习之2014.11.25</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>为了使用hadoop2.5.1,花费了n多时间，最后还是改用了hadoop1.2.1</p>
<p>原因在于，似乎没有hadoop2.x的中文文档（囧..），只找到了一个1.0.4的doc，hadoop2.x和hadoop1.x的差别很大，貌似还是由不同的组织进行维护的，发现1.0.4的wordcount V2.0在安装2.5.1不能运行后，果断安装了一个hadoop1.2.1..</p>
<p>安装1.2.1用的是rpm包</p>
<p>不同于直接解压.tar.gz，用rpm安装的话，hadoop的一些文件的位置是变化了的，譬如，启动关闭dfs或者mapreduce的.sh脚本默认放在了/usr/sbin目录下，hadoop的配置文件如hadoop-env.xml、hdfs-sites.xml的都放在了/etc/hadoop目录下，而hadoop安装在了/usr/share/hadoop下</p>
<p>安装并配置完毕后，开始运行wordcount，出现了“There is insufficient memory for the Java Runtime Environment to continue”这个错误，调试了很久，最后还是含泪加了我的阿里云ECS的内存，从1G升级到2G，重启，果断那个错误消失了..</p>
<p>一阵学习中..</p>
<p>看了<a href="http://hadoop.apache.org/docs/r1.0.4/cn/cluster_setup.html后，突然想了解下hadoop的启动过程" target="_blank" rel="external">http://hadoop.apache.org/docs/r1.0.4/cn/cluster_setup.html后，突然想了解下hadoop的启动过程</a>..</p>
<p>从start-dfs.sh到hadoop-daemons.sh再到slaves.sh，发现了</p>
<p>ssh $HADOOP_SSH_OPTS $slave $”${@// /\ }” 2&gt;&amp;1 | sed “s/^/$slave: /“ &amp;</p>
<p>这句，看来应该是nameNode主机通过ssh远程在dataNode主机执行命令完成启动dataNode的hadoop的..</p>
<p>对于linux的sed的使用不是很熟悉，想以后该学习下..</p>
<p>但$”${@// /\ }”这句，我始终不太懂..特别是类似${var/ /}的用法..</p>
<p>google了一下，详见另一篇文件&lt;shell学习之2014.11.25&gt;..</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2014/11/25/hadoop学习之2014-11-25/" data-id="cj80hjlin003af26374wn2jks" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/技术探索/">技术探索</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-glibc升级血泪史" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/11/17/glibc升级血泪史/" class="article-date">
  <time datetime="2014-11-17T11:07:50.000Z" itemprop="datePublished">2014-11-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/11/17/glibc升级血泪史/">glibc升级血泪史</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>当前公司的工作比较闲，而且我要为下份工作做准备，也是提高自己的技术实力，在没有工作的时候，总要学点东西</p>
<p>一个临时的目标是hadoop</p>
<p>了解了hadoop的大致功能作用后，开始着手实战hadoop</p>
<p>使用阿里云的ecs，最初打算自己编译源码安装hadoop，且是最新稳定版本2.5.1，但过程是艰难的。</p>
<p>按照<a href="http://pravinchavan.wordpress.com/2013/04/14/building-apache-hadoop-from-source/，一些准备工作没问题，但用maven真正编译时，开始是ProtocolBuffer的版本不对，换了最新的，然后又是太新了..必须指定版本..折腾再折腾..终于..我放弃了..原因有二：1.我的技术方向不是java，对maven没必要特别熟悉" target="_blank" rel="external">http://pravinchavan.wordpress.com/2013/04/14/building-apache-hadoop-from-source/，一些准备工作没问题，但用maven真正编译时，开始是ProtocolBuffer的版本不对，换了最新的，然后又是太新了..必须指定版本..折腾再折腾..终于..我放弃了..原因有二：1.我的技术方向不是java，对maven没必要特别熟悉</a> 2.关键是..这个编译一次花费的时间太长了..真心感觉有点折腾不起..</p>
<p>于是下了hadoop的编译好的版本..</p>
<p>学习中…</p>
<p>但新问题又来了，每次跑hadoop的命令时，总会出现一个警告，对于一个患有轻微强迫症的人，这是难以忍受的..</p>
<p>经过一番搜索..探查..发现是glibc的版本太低的原因..</p>
<p>阿里云的源上的glibc的最新版本也就是2.12，而hadoop提示需要2.14..</p>
<p>我采取了手动编译更新glibc的方法..然而过程是更加曲折的..这里只说值得记忆的把..</p>
<p>期间把系统弄坏了4次(庆幸阿里云会自动备份磁盘，每次系统坏了只需要回滚磁盘就行了..)..</p>
<p>1.这应该是最菜鸟的错误，把glibc编译并安装到制定好的目录后，我把/lib64/libc.so.6删了（本来打算先删了，然后新建立软连接到libc-2.14.so），结果是悲剧的..</p>
<p>2.借鉴了上次的悲剧，且经过了验证（glibc.so.6只需要在任一个系统库搜索路径存在且有效即可,这个我用我之前的安装的虚拟机测试的..），我把libc安装到了默认的/usr/local下，且在/etc/ld.so.conf中配置了/usr/local/bin目录，然后再删/lib64/libc.so.6，结果仍是悲剧了..（这个具体原因不明..估计因为glibc的版本和ld.so的版本不一致且glibc的路径是通过/etc/ld.so.conf指定的….）</p>
<p>3.借鉴了上次的错误，以为是ld-linux-x86-64.so.2的问题，我先制作软连接/lib/ld-linux-x86-64.so.2，然后删除了/lib64/ld-linux-x86-64.so.2..结果悲剧了..开始报/lib64/ld-linux-x86-64.so.2找不到的错误…</p>
<p>4.借鉴了以上错误，我开始寻求baidu帮助..在一篇博文里，直接将glibc安装到了/usr下（不过貌似他只安装了libc的某些模块），我开始认为，不管怎样，如果只安装libc到/usr下的某些目录，不影响/lib64下面的文件的话，无论如何不会有问题的..事实是悲痛的..貌似安装到/usr会自动把.so文件安装到/lib64下面..结果出现了这样的问题，似乎这次安装libc，把其他的一些.so文件覆盖了旧的，而并没有更新libc.so.6,..所以运行命令要么出现segment fault的问题（不知为什么..）,要么是说glibc的版本太低（不是2.14）…</p>
<p>借鉴了以上错误，我开始寻求google帮助..参考<a href="http://blog.csdn.net/nameofhsw/article/details/12781905，终于第一次有了比较完整的结果" target="_blank" rel="external">http://blog.csdn.net/nameofhsw/article/details/12781905，终于第一次有了比较完整的结果</a>..</p>
<p>但新问题出现了..我的openjdk1.7.0的任何命令的运行时，都没有了任何输出，而改用旧的libc2.12是正常的..</p>
<p>次日..</p>
<p>之前用的java版本openjdk1.7.0，之前因为工作关系，下了一个sun java1.7的rpm包，遂卸载了旧的openjdk，换成sun的试试，结果是一样的..</p>
<p>在网上查不到这样的情况..</p>
<p>突然想到之前学习到的一个linux命令strace，遂strace javac试试..</p>
<p>javac似乎在系统调用futex时停住了…直觉是需要某个信号wake这个进程，在网上查了查，貌似和多线程相关..</p>
<p>发现futex系统调用的第三个参数是一个数字，很像pid，但是我用ps -ef|grep &lt;pid&gt;根本找不到这样的进程…但用ps -ef|grep java时，发现那个pid比javac进程的pid大1…此事必有蹊跷…</p>
<p>用strace -p &lt;那个pid&gt;时，发现也是停在了futex处…这个futex的第三个参数是2…ps -ef发现pid为2的CMD为[kthreadd]…百度一下…貌似说它为内核线程之父…</p>
<p>查看strace javac的输出，发现它运行期间加载了libpthread.so.0，且是从我安装glibc2.14的目录中加载的…</p>
<p>壮着胆..把libpthread.so.0及其指向的真正的.so文件移到了别的地方…结果是幸福的…javac能用了…</p>
<p>注：其实&lt;那个pid&gt;应该是线程的id，可以用ps -eLf查看(LWP列)，应该是javac创建的一个线程…</p>
<p>完..</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2014/11/17/glibc升级血泪史/" data-id="cj80hjlip003ef2638l3dbg1h" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/技术探索/">技术探索</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/page/12/">&laquo; __('prev')</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><a class="page-number" href="/page/12/">12</a><span class="page-number current">13</span><a class="page-number" href="/page/14/">14</a><a class="extend next" rel="next" href="/page/14/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/LeetCode/">LeetCode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/三体/">三体</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/情感/">情感</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/房地产/">房地产</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/技术探索/">技术探索</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/日记/">日记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/未分类/">未分类</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/生活杂想/">生活杂想</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/股市/">股市</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/LeetCode/" style="font-size: 18px;">LeetCode</a> <a href="/tags/三体/" style="font-size: 10px;">三体</a> <a href="/tags/情感/" style="font-size: 12px;">情感</a> <a href="/tags/房地产/" style="font-size: 10px;">房地产</a> <a href="/tags/技术探索/" style="font-size: 20px;">技术探索</a> <a href="/tags/日记/" style="font-size: 14px;">日记</a> <a href="/tags/未分类/" style="font-size: 14px;">未分类</a> <a href="/tags/生活杂想/" style="font-size: 16px;">生活杂想</a> <a href="/tags/股市/" style="font-size: 10px;">股市</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">September 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">June 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">May 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">April 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">March 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">February 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">January 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">December 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">November 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">October 2014</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/09/26/未来的路/">未来的路</a>
          </li>
        
          <li>
            <a href="/2017/09/26/首页/">首页</a>
          </li>
        
          <li>
            <a href="/2017/09/26/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2017/09/07/Django-REST-framework小探/">Django REST framework小探</a>
          </li>
        
          <li>
            <a href="/2017/09/04/高晓松的脱口秀/">高晓松的脱口秀</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>